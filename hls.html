<!DOCTYPE html>
<html lang="pt-BR">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
  
    <title>Transmissão</title>

    <style>
    
    video::-webkit-media-controls-timeline,
    video::-webkit-media-controls-time-remaining-display,
    video::-webkit-media-controls-current-time-display,
    video::-webkit-media-controls-return-to-realtime-button,
    video::-webkit-media-controls-rewind-button,
    video::-webkit-media-controls-toggle-closed-captions-button {
    display: none;
    }

    button {border: 3px solid #101010;background-color: #101010;color:#fff; font-weight: 500;}
    button:hover {background-color: #202020; border: 3px solid #202020;color:#fff;}
    select {margin-top: 1rem;border: 3px solid #101010;background-color: #101010;color:#fff;text-align: left; font-weight: 500;text-align-last:center;}
    select:hover {background-color: #202020; border: 3px solid #202020;color:#fff;}
    
    #circlecheck {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    }



    </style>

<script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@clappr/stats-plugin@latest/dist/clappr-stats.min.js"></script>

</head>

<body style="background: #000">

<div class="container">

<h2 style="color:#fff; display: flex;align-items: center;gap:1rem;justify-content: center;">Transmissão</h2>

<!--<div id="player-wrapper" style="width: 100%; background-color: #000; aspect-ratio: 16/9;border-radius: 0.75rem;cursor: pointer;"></div>-->
<video id="video" style="width: 100%; background-color: #000; aspect-ratio: 16/9;border-radius: 0.75rem;cursor: pointer;" controls controlsList="noplaybackrate" autoplay></video>

<select id="canais">
<option value="Desativado" disabled selected>Selecione um Canal</option>
<option value="Globo RBS TV Porto Alegre FHD">Globo RBS TV Porto Alegre FHD</option>
<option value="Globo RBS TV Porto Alegre HD">Globo RBS TV Porto Alegre HD</option>
<option value="Globo RBS TV Porto Alegre SD">Globo RBS TV Porto Alegre SD</option>
<option value="Globo RBS TV Santa Maria FHD">Globo RBS TV Santa Maria FHD</option>
<option value="Globo RBS TV Santa Maria HD">Globo RBS TV Santa Maria HD</option>
<option value="Globo RBS TV Santa Maria SD">Globo RBS TV Santa Maria SD</option>
<option value="Globo SP FHD">Globo SP FHD</option>
<option value="Globo SP HD">Globo SP HD</option>
<option value="Globo SP SD">Globo SP SD</option>
<option value="Band SP FHD">Band SP FHD</option>
<option value="Band SP HD">Band SP HD</option>
<option value="Band SP SD">Band SP SD</option>
<option value="RecordTV RS FHD">RecordTV RS FHD</option>
<option value="RecordTV RS HD">RecordTV RS HD</option>
<option value="RecordTV RS SD">RecordTV RS SD</option>
<option value="RecordTV SP FHD">RecordTV SP FHD</option>
<option value="RecordTV SP HD">RecordTV SP HD</option>
<option value="RecordTV SP SD">RecordTV SP SD</option>
<option value="Discovery Channel FHD">Discovery Channel FHD</option>
<option value="Discovery Channel HD">Discovery Channel HD</option>
<option value="Discovery Channel SD">Discovery Channel SD</option>
<option value="Discovery H&H FHD">Discovery H&H FHD</option>
<option value="Discovery H&H HD">Discovery H&H HD</option>
<option value="Discovery H&H SD">Discovery H&H SD</option>
<option value="Discovery Kids FHD">Discovery Kids FHD</option>
<option value="Discovery Kids HD">Discovery Kids HD</option>
<option value="Discovery Kids SD">Discovery Kids SD</option>
<option value="Discovery Science FHD">Discovery Science FHD</option>
<option value="Discovery Science HD">Discovery Science HD</option>
<option value="Discovery Science SD">Discovery Science SD</option>
<option value="Discovery Theater FHD">Discovery Theater FHD</option>
<option value="Discovery Theater HD">Discovery Theater HD</option>
<option value="Discovery Theater SD">Discovery Theater SD</option>
<option value="Discovery Turbo FHD">Discovery Turbo FHD</option>
<option value="Discovery Turbo HD">Discovery Turbo HD</option>
<option value="Discovery Turbo SD">Discovery Turbo SD</option>
<option value="Discovery World FHD">Discovery World FHD</option>
<option value="Discovery World HD">Discovery World HD</option>
<option value="Discovery World SD">Discovery World SD</option>
<option value="History FHD">History FHD</option>
<option value="History HD">History HD</option>
<option value="History SD">History SD</option>
<option value="ESPN 1 FHD">ESPN 1 FHD</option>
<option value="ESPN 1 HD">ESPN 1 HD</option>
<option value="ESPN 1 SD">ESPN 1 SD</option>
<option value="ESPN 2 FHD">ESPN 2 FHD</option>
<option value="ESPN 2 HD">ESPN 2 HD</option>
<option value="ESPN 2 SD">ESPN 2 SD</option>
<option value="ESPN 3 FHD">ESPN 3 FHD</option>
<option value="ESPN 3 HD">ESPN 3 HD</option>
<option value="ESPN 3 SD">ESPN 3 SD</option>
<option value="ESPN 4 FHD">ESPN 4 FHD</option>
<option value="ESPN 4 HD">ESPN 4 HD</option>
<option value="ESPN 4 SD">ESPN 4 SD</option>
<option value="ESPN Extra FHD">ESPN Extra FHD</option>
<option value="ESPN Extra HD">ESPN Extra HD</option>
<option value="ESPN Extra SD">ESPN Extra SD</option>
<option value="SporTV 1 FHD">SporTV 1 FHD</option>
<option value="SporTV 1 HD">SporTV 1 HD</option>
<option value="SporTV 1 SD">SporTV 1 SD</option>
<option value="SporTV 2 FHD">SporTV 2 FHD</option>
<option value="SporTV 2 HD">SporTV 2 HD</option>
<option value="SporTV 2 SD">SporTV 2 SD</option>
<option value="SporTV 3 FHD">SporTV 3 FHD</option>
<option value="SporTV 3 HD">SporTV 3 HD</option>
<option value="SporTV 3 SD">SporTV 3 SD</option>
<option value="Conmebol TV 1 FHD">Conmebol TV 1 FHD</option>
<option value="Conmebol TV 1 HD">Conmebol TV 1 HD</option>
<option value="Conmebol TV 1 SDC">Conmebol TV 1 SD</option>
<option value="Conmebol TV 2 FHD">Conmebol TV 2 FHD</option>
<option value="Conmebol TV 2 HD">Conmebol TV 2 HD</option>
<option value="Conmebol TV 2 SD">Conmebol TV 2 SD</option>
<option value="Conmebol TV 3 FHD">Conmebol TV 3 FHD</option>
<option value="Conmebol TV 3 HD">Conmebol TV 3 HD</option>
<option value="Conmebol TV 3 SD">Conmebol TV 3 SD</option>
<option value="Conmebol TV 4 FHD">Conmebol TV 4 FHD</option>
<option value="Conmebol TV 4 HD">Conmebol TV 4 HD</option>
<option value="Conmebol TV 4 SD">Conmebol TV 4 SD</option>
<option value="Premiere 1 FHD">Premiere 1 FHD</option>
<option value="Premiere 1 HD">Premiere 1 HD</option>
<option value="Premiere 1 SD">Premiere 1 SD</option>
<option value="Premiere 2 FHD">Premiere 2 FHD</option>
<option value="Premiere 2 HD">Premiere 2 HD</option>
<option value="Premiere 2 SD">Premiere 2 SD</option>
<option value="Premiere 3 FHD">Premiere 3 FHD</option>
<option value="Premiere 3 HD">Premiere 3 HD</option>
<option value="Premiere 3 SD">Premiere 3 SD</option>
<option value="Premiere 4 FHD">Premiere 4 FHD</option>
<option value="Premiere 4 HD">Premiere 4 HD</option>
<option value="Premiere 4 SD">Premiere 4 SD</option>
<option value="Premiere 5 FHD">Premiere 5 FHD</option>
<option value="Premiere 5 HD">Premiere 5 HD</option>
<option value="Premiere 5 SD">Premiere 5 SD</option>
<option value="Premiere 6 FHD">Premiere 6 FHD</option>
<option value="Premiere 6 HD">Premiere 6 HD</option>
<option value="Premiere 6 SD">Premiere 6 SD</option>
<option value="Premiere 7 FHD">Premiere 7 FHD</option>
<option value="Premiere 7 HD">Premiere 7 HD</option>
<option value="Premiere 7 SD">Premiere 7 SD</option>
</select>

<select id="radios">
  <option value="Desativado" disabled selected>Selecione uma Rádio</option>
  <option value="https://liverdgaupoa.rbsdirect.com.br/primary/gaucha_rbs.sdp/playlist.m3u8">Gaúcha FM Porto Alegre</option>
  <option value="http://liverdatlpoa.rbsdirect.com.br/primary/atl_poa.sdp/playlist.m3u8">Atlantida FM Porto Alegre</option>
  <option value="http://liverdatlsm.rbsdirect.com.br/primary/atl_sma.sdp/playlist.m3u8">Atlantida FM Santa Maria</option>
  <option value="http://liverdatlbeiramar.rbsdirect.com.br/primary/atl_tra.sdp/playlist.m3u8">Atlantida FM Beira Mar</option>
  <option value="http://167809y.ha.azioncdn.net/primary/atl_fln.sdp/playlist.m3u8">Atlantida FM Florianópolis</option>
  <option value="http://187809y.ha.azioncdn.net/primary/atl_joi.sdp/playlist.m3u8">Atlantida FM Joinville</option>
  <option value="http://157809y.ha.azioncdn.net/primary/atl_cha.sdp/playlist.m3u8">Atlantida FM Chapecó</option>
  </select>

<div style="display: flex;gap:1rem; flex-direction: column;margin-top: 1rem;justify-content: center;align-items: center;">
<button id="Reload">RELOAD</button>
<div style="display: flex;gap:1rem; flex-direction: row;margin-top: 1rem;justify-content: center;align-items: center;">
<span id="check" style="color: #fff"></span><span id="circlecheck"></span></div>
<span id="msg" style="color: #fff;"></span>
</div>

</div>

<script>

var canais = document.getElementById('canais');
var radios = document.getElementById('radios');
var media = 0;

function streamt(source){
  var video = document.getElementById('video');
  video.poster = "https://c.tenor.com/YG_GREUD9OwAAAAC/tv-static.gif";
  //var videoSrc = "https://raw.githubusercontent.com/futfansbr/page/main/str/" + source + ".m3u8";
  var videoSrc = "http://38.94.38.21/auth/U4IQF-ozPiNhRDR4At69Jp32BHWETJN673FTk930JtXxTkfVKXAEl30jDVd8z9GdrS7kte3Tng2aEYGL-zu0zfcmW9qO7j4E44grA5kHnMxDM-txc6Oh6kyD3575uyi7n80ATGQwo4sEHIFqxSn5QECSHAN2ekW1wO0UaAp6LTxCo4yrIdVHnUzptvyY41gKQzQc5JcmCKfvpTdSnyWa5LpyXyf9gEHsYPZsSmTquCrhNcsnu4zZjP7bDhCI50MZFTnBhCY_-lis93jAckY_Ssddyazk2h-6EPDimie47RpBUx_KQwHDJKeC0KDOFAbVfYTM8HtNS0UfcPejjnHmpNzN3v2SgxcVeNk_3B5abcp-3Flm-1u3kKLVe9Jt7Erty0NqLemwaQcSj72DovIj-YkQRedATdRuiSCg5FwKJnVgKiqSN7I2YSsM9bobGpSEV0wnBqbXZdUJcR41RefxHIVRlSMrv9s84_SVfb0JtViZ_hU5TenLUiG53HBDu8FmGKdVOiMzTx6iywLTFJMv8wKMlQER_cSqZpqYDFWzkcehJmYZ9gtvRe5WHNEBc4sDxANIEiGqCY9V6aNG4HbQJCSKpEYtTrVmWRHEg8xZmZA";
  if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    video.play();
    media = 0;
  }
  else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
  }
}

function streamr(source){
  var video = document.getElementById('video');
  video.poster = "https://c.tenor.com/YG_GREUD9OwAAAAC/tv-static.gif";
  var videoSrc = source;
  if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    video.play();
    media = 1;
  }
  else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
  }
}


document.getElementById("Reload").addEventListener("click", function(){

  if (media === 0){
    if (canais.value === "Desativado"){

      streamt(canais[6].value);

      } else {

      streamt(canais.value);

      }
  } else {

    if (radios.value === "Desativado"){

    streamr(radios[1].value);

    } else {

    streamr(radios.value);

    }

  }
  
});

video.addEventListener("timeupdate", function(){
  
  var message = document.getElementById("msg");
  var check = document.getElementById("check");
  var icon = document.getElementById("circlecheck");
  var time = video.duration - video.currentTime;

  var ifConnected = window.navigator.onLine;
  if (ifConnected) {
    check.innerHTML = "Connection available";
    icon.style.backgroundColor = "#04AA6D";

  } else {
    check.innerHTML = "Connection not available";
    icon.style.background = "#ff0000";
  }

  if ( video.currentTime === 0 ) {

    message.innerHTML = "";

  } else {

    message.innerHTML = "Buffer: " + Intl.NumberFormat('en-US', {style: 'decimal'}).format(time);
    
  }

  if( video.paused ) {
        video.play();
      }
      else {
        video.play();
      }
});

canais.addEventListener("change", function(){

radios.value = radios[0].value;
streamt(canais.value);

});

radios.addEventListener("change", function(){

  canais.value = canais[0].value;
  streamr(radios.value);

});

streamt(canais[6].value);

/*

document.getElementById("Picture").addEventListener("click", function(){

  video.requestPictureInPicture();

});

document.getElementById("Mute").addEventListener("click", function(){

  if (video.muted){

    video.muted = false;
    document.getElementById("Mute").innerHTML = "Mute";

  } else {

    video.muted = true;
    document.getElementById("Mute").innerHTML = "Unmute";

  }

});

document.getElementById("Full").addEventListener("click", function(){

  if (video.requestFullscreen) {
    video.requestFullscreen();
  } else if (video.webkitRequestFullscreen) {
    video.webkitRequestFullscreen();
  } else if (video.msRequestFullscreen) {
    video.msRequestFullscreen();
  }

});

canais.addEventListener("change", function(){

  var format = 'https://raw.githubusercontent.com/futfansbr/page/main/str/' + canais.value + '.m3u8';
  Play(format);

});

var player = new Clappr.Player({
  
  source: "https://raw.githubusercontent.com/futfansbr/page/main/str/" + canais[2].value + ".m3u8",
  autoPlay: true,
  parentId: "#player-wrapper",
  width: "100%",
  height: "100%",

});

player.attachTo(playerElement);

function Play(x){

  player.load(x);
  //setTimeout(delay, 2500);

}

*/

</script>
</body>
</html>
